<!DOCTYPE html>
<html>
  <head>
    <title>User manual</title>
	<link rel="stylesheet" type="text/css" href="style.css">
  <link rel="icon" href="imgs/logo.png">
  </head>
  <body>
    <header class="w3-container w3-center w3-padding-32">
      <div class="row">
        <div class="column">
            <img src="imgs/logo.png" style="width:8%">
        </div>
        <div class="column">
          <h1><b>USER MANUAL</b></h1>
      	  <p>Welcome to the user manual for the <span class="w3-tag">BrainMapper</span> software.</p>
        </div>
      </div>
  	</header>

    <div class="row">
      <div class="column-left">
        <div class="w3-card w3-margin w3-margin-top">
          <div id="toc_container">
            <p class="toc_title">Contents - Clustering</p>
            <a href="index.html" style="color : #5577ee"> Go back to home page </a>
            <ul class="toc_list">
          	   <li><a href="#data"><strong>3.1 Data extraction for clustering</strong></a></li>
          	    <ul>
          		      <li><a href="#extract">3.1.1 How data is extracted</a></li>
          		      <li><a href="#all_points">3.1.2 Use all points of an image</a></li>
          		      <li><a href="#as_centroid">3.1.3 Use the image's points centroid as data</a></li>
          	      </ul>
              	<li><a href="#methods"><strong>3.2 Apply clustering algorithms on extracted data</strong></a></li>
              	  <ul>
              		<li><a href="#kmeans">3.2.1 KMeans</a></li>
              		<li><a href="#kmedoids">3.2.2 KMedoids</a></li>
                  <li><a href="#agglo">3.2.3 Agglomerative Clustering</a></li>
                  <ul>
                    <li><a href="#ward"><small>3.2.2.1 Ward linkage</small></a></li>
                    <li><a href="#mean_link"><small>3.2.2.2 Mean linkage</small></a></li>
                  </ul>
              	  </ul>
              	<li><a href="#script_env"><strong>3.3 Execute custom functions : user script environment</strong></a></li>
                <li><a href="#clust_results"><strong>3.4 Clustering results </strong></a></li>
                <ul>
                  <li><a href="#clust_assign">3.4.1 Cluster assignment</a></li>
                  <ul>
                    <li><a href="#as_set"><small>3.4.1.1 Save results as set</small></a></li>
                    <li><a href="#to_csv"><small>3.4.1.2 Export as CSV file</small></a></li>
                  </ul>
                  <li><a href="#visu">3.4.2 Graphic Visualisation</a></li>
                  <li><a href="#val_index">3.4.3 Internal Validation Indexes</a></li>
                  <ul>
                    <li><a href="#mean_silhouette"><small>3.4.3.1 Mean Silhouette</small></a></li>
                    <li><a href="#ch_index"><small>3.4.3.2 Calinski-Habaraz Index</small></a></li>
                    <li><a href="#db_index"><small>3.4.3.3 Davies Boulin index</small></a></li>
                  </ul>
                </ul>
              </ul>
        	</div>
        </div>
      </div>
      <div class="column-right">
        <div id="Clustering">
          <h1> Clustering on NIfTI data</h1>
          brain-Mapper aims to allow the user to use the interesting data from NIfTI files to perform clustering algorithms and thus determine the different groups of voxels.<br/>
          To accomplish this, brain-Mapper extracts the data from NIfTI files and allows you to select the method you would like to apply. Clustering results can be exported as a CSV file or
          saved in the application, and thus be exported as new NIfTI files.<br/><br/>
          In this section we explain the main functionalities of our software around clustering

          <h2 id="data">3.1 Data extraction for clustering</h2>
        	<p>
        		The NIfTI format is an image format but for some teams it is interesting to apply clustering algorithms on the list of voxels, usually represented as a list of
            [X_coordinate,Y_coordinate,Z_coordinate, Intensity] entries, each of which represent a voxel.<br/>
            Our software extracts the data of your selected image collections before applying clustering algorithms on it.

        	</p>
        	<h3 id="extract">3.1.1 How data is extracted</h3>
        	<p>
            From the main view page, where all collections are accessible, the user can click on 'clustering' button at the bottom right, once he has selected some image collections.<br/>
        		<img src="imgs/access_clustering.png" style="width:50%">
            <br/><br/>
            A pop up dialog window will appear. It shows the number of image collections selected as well as the total number of NIfTI images to be treated.<br/>
            <img src="imgs/select_extraction_mode.png" style="width:50%">
            <br/><br/>
            In this windows, the user can select between two ways of extracting the image's information before the clustering view is loaded : our software creates a
            list of <em>interesting></em> voxels by extracting the coordinates of all the voxels that have an intensity greater than 0 or by calculating the image's centroid
            (each image will be represented by a single point).

        	</p>
          <h3 id="all_points">3.1.2 Use all points of an image</h3>
        	<p>
            When all points are selected by choosing 'Use all region points for each file', the data used for clustering is the list of all voxels whose intensity is greater than 0. <br/>
            The clustering view thus contains a data table with several data entries <br/>
            <img src="imgs/clust_allp.png" style="width:50%">
            <br/>

          </p>
          <h3 id="as_centroid">3.1.3 Use the image's points centroid as data</h3>
        	<p>
            By choosing 'Use centroids as file representation', the data used for clustering is the a list of a single voxel per file, which represents the <em>mean voxel</em> or <em>center</em>
            of all the voxels in the image. This type of extraction might take a while longer than the simple extraction, because several calculations are done.
            <br/>
            The clustering view thus contains a data table with a single data entries per selected file : if a total of 4 files in 2 different image collections were selected, the data <table>
              will display 4 data entries <br/>
            <img src="imgs/clust_centroids.png" style="width:50%">
            <br/>
          </p>

          <h2 id="methods">3.2 Apply clustering algorithms on extracted data</h2>
        	<p> Once you have extracted the data from   </p>
          <h3 id="kmeans">3.2.1 KMeans</h3>
        	<p> </p>
          <h3 id="kmedoids">3.2.2 KMedoids</h3>
        	<p> </p>
          <h3 id="agglo">3.2.3 Agglomerative Clustering</h3>
        	<p> </p>

          <h4 id="ward">3.2.3.1 Ward Linkage</h4>
        	<p> </p>
          <h4 id="mean_link">3.2.3.2 Mean Linkage</h4>
        	<p> </p>

          <h2 id="data">3.3 Execute custom functions : user script environment</h2>
        	<p></p>

          <h2 id="clust_results">3.4 Clustering results</h2>
        	<p></p>
          <h3 id="clust_assign">3.4.1 Cluster assignment</h3>
        	<p> </p>
          <h4 id="as_set">3.4.1.1 Save as set</h4>
        	<p> </p>
          <h4 id="to_csv">3.4.1.2 Export as CSV file</h4>
        	<p> </p>

          <h3 id="visu">3.4.2 Graphic visualisation</h3>
        	<p> </p>
          <h3 id="val_index">3.4.3 Internal Validation indexes</h3>
        	<p> </p>

          <h4 id="mean_silhouette">3.4.3.1 Mean Silhouette</h4>
        	<p> </p>
          <h4 id="ch_index">3.4.3.2 Calinski-Habaraz score</h4>
        	<p> </p>
          <h4 id="db_index">3.4.3.3 Davis-Boulin index</h4>
        	<p> </p>

        </div>
      </div>
    </div>


    <footer class="w3-container w3-dark-grey w3-padding-32 w3-margin-top">
      <div class="column-left">
  	     <p>Source code available on <a href="https://github.com/TELECOMNancy/brainMapper" target="_blank">GitHub repository</a></p>
      </div>
      <div>
        <p> <b>Authors</b>: R. Agathon (@yoshcraft), M. Cluchague (@maximeCluchague), G. Husson (@Graziella-Husson), V. Zelaya (@vz-chameleon)
      </div>
  	</footer>
  </body>
</html>
